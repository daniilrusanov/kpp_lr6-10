<app-my-header name="Лабораторна робота №6"></app-my-header>


<ion-content [fullscreen]="true">
    <ion-card
            class="course-card"
            *ngFor="let product of productReadService.products; index as i"
    >
        <ion-card-header class="ccheader">
            <ion-card-title>{{ product.getName() }}</ion-card-title>
            <ion-card-subtitle>{{ product.getType() }}</ion-card-subtitle>
        </ion-card-header>
        <ion-card-content class="body">
            <ion-item *ngFor="let details of product.getDetails()">
                <ion-label>{{ details }}</ion-label>
            </ion-item>
            <ion-item>
                <ion-label> Ціна: {{ product.getPrice() }}</ion-label>
            </ion-item>
        </ion-card-content>
        <ion-button>Купити</ion-button>

        <!-- Редагування товару -->
        <ion-button (click)="editFormShow(i)">Редагувати товар</ion-button>
        <app-edit-product
                *ngIf="showEditForm && i == editFormNumber"
                (productEdit)="editProduct($event, i)"
                [product]="product"
        ></app-edit-product>

        <!-- Видалення товару -->
        <ion-button (click)="deleteFormShow(i)">Видалити товар</ion-button>
        <app-delete-product
                *ngIf="showDeleteForm && i == deleteFormNumber"
                [product]="product"
                (confirm)="deleteProduct(i)"
                (cancel)="hideDeleteForm()"
        ></app-delete-product>
    </ion-card>

    <!-- Додавання товару -->
    <ion-button (click)="addFormShow()">Додати товари</ion-button>
    <app-add-product
            *ngIf="showAddForm"
            (productAdd)="addProduct($event)"
    ></app-add-product>

</ion-content>
